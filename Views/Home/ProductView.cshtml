@model P_CStore.Models.ProductViewModel
<link rel="stylesheet" type="text/css" href="~/css/ProductView.css" />

@{
    ViewData["Title"] = "Product Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container my-5">
    <div class="row g-5 align-items-start">
        <!-- Imágenes -->
        <div class="col-md-6">
            <!-- Carrusel principal -->
            <div id="productCarousel_@Model.IdProduct" class="carousel slide border rounded shadow" data-bs-ride="carousel">
                <div class="carousel-inner">
                    @for (int i = 0; i < Model.LstPictures.Count; i++)
                    {
                        var picture = Model.LstPictures[i];
                        <div class="carousel-item @(i == 0 ? "active" : "")">
                            <img src="data:image/jpeg;base64,@Convert.ToBase64String(picture.Picture)" class="d-block w-100 rounded" alt="Product image" />
                        </div>
                    }
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel_@Model.IdProduct" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#productCarousel_@Model.IdProduct" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>

            <!-- Miniaturas -->
            <div class="mt-3 d-flex flex-wrap gap-2 justify-content-center">
                @for (int i = 0; i < Model.LstPictures.Count; i++)
                {
                    var picture = Model.LstPictures[i];
                    <img src="data:image/jpeg;base64,@Convert.ToBase64String(picture.Picture)"
                         class="img-thumbnail thumbnail-img"
                         data-bs-target="#productCarousel_@Model.IdProduct"
                         data-bs-slide-to="@i"
                         aria-current="@(i == 0 ? "true" : null)"
                         aria-label="Slide @(i + 1)"
                         style="width: 80px; height: 80px; object-fit: cover; cursor: pointer;" />
                }
            </div>
        </div>

       
        <div class="col-md-6">
            <h2 class="fw-bold mb-3">@Model.ProductName</h2>
            <p class="text-muted mb-4">@Model.ProductDescription</p>

            <ul class="list-unstyled mb-4">
                <li><strong>Color:</strong> @Model.Color</li>
                <li><strong>Tamaño:</strong> @Model.Size</li>
            </ul>

            <div class="price-display mb-4">
                <span class="text-muted">Price</span>
                <h3 class="display-6 text-primary fw-bold">@Model.SellingPrice.ToString("C")</h3>
            </div>

            <div class="mb-3">
                <label for="quantity_@Model.IdProduct" class="form-label">Quantity</label>
                <input type="number" id="quantity" name="quantity" min="1" value="1" class="form-control" style="max-width: 100px;" />
            </div>

            <button class="btn btn-success btn-lg w-100 btnAddToCart"
                    data-idproduct="@Model.IdProduct">
                🛒 Add to Cart
            </button>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/ProductView.js"></script>
}
